// NEXT
import Image from 'next/image';

// REACT
import PropTypes from 'prop-types';

// EXTRA
import cls from 'classnames';

// BKOOL
import BkBox from '../../layout/box/bk-box';
import styles from './giro-spinner.module.css';

const GiroSpinner = (props) => {
    const { spinnerOn, spinnerPosition, ...other } = props;

    return (
        <BkBox
            spinnerOn={ spinnerOn } 
            className={ 
                cls(
                    styles.giroSpinner,
                    !spinnerOn && styles.dNone,
                    spinnerPosition === 'absolute' ? styles.positionAbsolute : styles.positionFixed,
                )
            }
            { ...other }
        >
            <BkBox className={ styles.giroSpinnerWrapper }>
                <BkBox className={ styles.maillotBG }>
                    <svg width="80" height="80" viewBox="0 0 200 200" fill="none" xmlns="http://www.w3.org/2000/svg">
						<defs>
							<mask id="mask">
								<path d="M189.143 63.9765C189.143 63.9765 141.069 27.2502 126.085 19.1418C122.116 17 115.952 17 99.987 17C84.0222 17 77.8486 17 73.8889 19.1418C58.905 27.2412 10.8306 63.9765 10.8306 63.9765C10.3599 64.4004 10.0668 64.9865 10.0101 65.6173C9.95336 66.2482 10.1371 66.8772 10.5246 67.3782L28.3703 91.5594C28.7472 92.0482 29.2871 92.3852 29.8917 92.5091C30.4963 92.6329 31.1253 92.5355 31.6641 92.2344L51.0396 83.3161C51.0396 83.3161 55.5393 107.02 55.5393 130.716C55.5393 149.524 52.2455 170.637 52.2455 170.637C52.262 171.527 52.5137 172.397 52.9752 173.159C53.4367 173.921 54.0916 174.547 54.8733 174.974C65.4655 180.563 79.2165 183.866 100.014 183.866C120.811 183.866 134.553 180.563 145.146 174.974C145.927 174.547 146.582 173.921 147.044 173.159C147.505 172.397 147.757 171.527 147.773 170.637C147.773 170.637 144.48 149.524 144.48 130.716C144.48 107.02 148.979 83.3161 148.979 83.3161L168.355 92.2344C168.888 92.5208 169.505 92.6101 170.098 92.4866C170.69 92.3632 171.22 92.0349 171.595 91.5594L189.458 67.4232C189.858 66.918 190.048 66.2785 189.99 65.6369C189.931 64.9954 189.628 64.4009 189.143 63.9765V63.9765Z" fill="#FFFFFF"/>
							</mask>
						</defs>
						<circle mask="url(#mask)" id={ styles.tint } cx="100.5" cy="100" r="180" fill="#4D4D4D"/>
					</svg>
                </BkBox>
                <BkBox className={ styles.magliaOverlay }>
                    <svg width="80" height="80" viewBox="0 0 200 200" fill="none" xmlns="http://www.w3.org/2000/svg">
						<path d="M61.74 136.61C61.74 137.951 61.632 139.31 61.56 140.597L64.4308 137.735C63.4589 137.402 62.6669 136.961 61.74 136.61ZM88.279 142.118C84.0539 141.831 79.8477 141.312 75.68 140.561L60.3811 155.86C59.7512 162.159 59.0672 167.271 58.6982 169.809C59.1122 170.016 59.5982 170.151 60.0121 170.34L88.279 142.118ZM141.24 169.854C140.979 168.054 140.547 164.841 140.097 160.917L126.031 174.983C131.292 173.904 136.4 172.181 141.24 169.854V169.854ZM99.9872 177.53C103.443 177.53 106.593 177.359 109.724 177.17L138.855 148.039C138.576 144.35 138.342 140.48 138.225 136.574C137.046 137.015 136.047 137.564 134.806 137.969L95.4155 177.323C96.9634 177.368 98.3583 177.494 99.9872 177.494V177.53ZM82.2765 176.387L117.014 141.65C112.023 142.207 107.007 142.507 101.985 142.55L70.4874 174.092C74.3602 175.116 78.2994 175.871 82.2765 176.351V176.387Z" fill="black" fillOpacity="0.25"/>
						<g opacity="0.25">
							<path fillRule="evenodd" clipRule="evenodd" d="M126.085 19.1418C141.069 27.2502 189.143 63.9765 189.143 63.9765C189.628 64.4009 189.931 64.9954 189.99 65.6369C190.048 66.2785 189.858 66.918 189.458 67.4232L171.595 91.5594C171.218 92.0481 170.678 92.3852 170.073 92.5091C169.469 92.6329 168.84 92.5355 168.301 92.2344L148.925 83.3161C151.328 63.2655 143.976 49.6586 134.292 40.5512C130.811 37.2782 126.934 34.6061 122.807 32.5349C123.828 28.1535 122.113 24.4618 115.466 23.0296C111.452 22.1296 88.5129 22.1296 84.4992 23.0296C77.8458 24.4518 76.1349 28.1453 77.163 32.5321C73.0339 34.6037 69.1553 37.2768 65.6725 40.5512C55.9892 49.6586 48.6368 63.2655 51.0396 83.3161L31.6641 92.2344C31.1253 92.5355 30.4963 92.6329 29.8917 92.5091C29.2871 92.3852 28.7472 92.0481 28.3703 91.5594L10.5246 67.3782C10.1371 66.8772 9.95336 66.2482 10.0101 65.6173C10.0668 64.9865 10.3599 64.4004 10.8306 63.9765C10.8306 63.9765 58.905 27.2412 73.8889 19.1418C77.8486 17 84.0222 17 99.987 17C115.952 17 122.116 17 126.085 19.1418Z" fill="black"/>
						</g>
						<path d="M115.466 23.0296C111.452 22.1296 88.5129 22.1296 84.4992 23.0296C63.4498 27.5292 91.8697 54.7612 99.9871 54.7612C108.104 54.7612 136.515 27.5652 115.466 23.0296Z" fill="black" fillOpacity="0.7"/>
					</svg>
                </BkBox>
                <BkBox className={ styles.maillotShadow }>
                    <Image 
                        src="/static/img/spinner/maillot-shadow.png"
                        layout='responsive'
                        height={ 20 }
                        width={ 60 }
                    />
                </BkBox>
            </BkBox>
        </BkBox>
    );
};

GiroSpinner.defaultProps = {
    spinnerPosition: 'fixed',
    spinnerOn: 'false',
}

GiroSpinner.propTypes = {
    spinnerPosition: PropTypes.oneOf(["fixed", "absolute"]),
    spinnerOn: PropTypes.bool,
}
 
export default GiroSpinner;